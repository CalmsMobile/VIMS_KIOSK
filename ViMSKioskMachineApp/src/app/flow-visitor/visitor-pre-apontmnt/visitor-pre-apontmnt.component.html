<div my-headerbar-visitorlist>
  <button
    *ngIf="totalVisitors > 0"
    (click)="takeActFor('visitorSummary')"
    mat-icon-button
    my-theme-round-button
    [matBadge]="totalVisitors"
    matBadgePosition="before"
    matBadgeColor="accent"
  >
    <i class="siva-icon-users-1"></i>
  </button>
</div>
<div style="text-align: center; padding: 30px">
  <p info-title no-margin-top margin-bottom>
    {{ KIOSK_PROPERTIES.COMMON_CONFIG.Caption }}
  </p>

  <div style="text-align: center; margin-top: 15vh">
    <!-- <div
      style="display: inline-block; vertical-align: top; margin-right: 40px"
      *ngIf="
      this.KIOSK_PROPERTIES.COMMON_CONFIG.AppointmentSearch.AppointmentID.enable && this.KIOSK_PROPERTIES.COMMON_CONFIG.AppointmentSearch.AppointmentID.search_type !== 'QRCode'
      "
    > -->
    <div style="display: inline-block; vertical-align: top; margin-right: 40px">
      <mat-tab-group
        mat-align-tabs="center"
        (selectedTabChange)="selectedTabValue($event)"
        [selectedIndex]="selectedIndex"
      >
        <mat-tab
          [disabled]="
            !KIOSK_PROPERTIES.COMMON_CONFIG.AppointmentSearch.Contact.enable
          "
          label="{{
            KIOSK_PROPERTIES.COMMON_CONFIG.AppointmentSearch.Contact
              .title_caption
          }}"
        >
          <p sub-title>
            {{
              KIOSK_PROPERTIES.COMMON_CONFIG.AppointmentSearch.Contact
                .description
            }}
          </p>
        </mat-tab>
        <mat-tab
          [disabled]="!KIOSK_PROPERTIES.COMMON_CONFIG.AppointmentSearch.Email.enable"
          label="{{
            KIOSK_PROPERTIES.COMMON_CONFIG.AppointmentSearch.Email.title_caption
          }}"
        >
          <p sub-title>
            {{
              KIOSK_PROPERTIES.COMMON_CONFIG.AppointmentSearch.Email.description
            }}
          </p>
        </mat-tab>
        <mat-tab
          [disabled]="
            !KIOSK_PROPERTIES.COMMON_CONFIG.AppointmentSearch.AppointmentID
              .enable
          "
          *ngIf="qrScanAppointmentId"
          label="{{
            KIOSK_PROPERTIES.COMMON_CONFIG.AppointmentSearch.AppointmentID
              .title_caption
          }}"
        >
          <p sub-title>
            {{
              KIOSK_PROPERTIES.COMMON_CONFIG.AppointmentSearch.AppointmentID
                .description
            }}
          </p>
        </mat-tab>
        <mat-tab
          [disabled]="
            !KIOSK_PROPERTIES.COMMON_CONFIG.AppointmentSearch.AppointmentID
              .enable
          "
          *ngIf="!qrScanAppointmentId"
          label="{{
            KIOSK_PROPERTIES.COMMON_CONFIG.AppointmentSearch.AppointmentID
              .title_caption
          }}"
        >
          <p sub-title>
            {{
              KIOSK_PROPERTIES.COMMON_CONFIG.AppointmentSearch.AppointmentID
                .description
            }}
          </p>
        </mat-tab>
      </mat-tab-group>
      <mat-form-field
        appearance="outline"
        floatLabel="always"
        theme-border-input-big
        style="display: block"
        *ngIf="selectedType == 'contact'"
      >
        <mat-label>{{
          KIOSK_PROPERTIES.COMMON_CONFIG.AppointmentSearch.Contact.field_caption
        }}</mat-label>
        <input
          matInput
          [(ngModel)]="APONTMNT_CONTACT"
          maxlength="15"
          (blur)="textDataBindContact($event.target.value)"
          ng-virtual-keyboard
          ng-virtual-keyboard-layout="numeric"
          ng-virtual-keyboard-placeholder="Mobile No."
          #contact
        />
      </mat-form-field>
      <mat-form-field
        appearance="outline"
        floatLabel="always"
        theme-border-input-big
        style="display: block"
        *ngIf="selectedType == 'email'"
      >
        <mat-label>{{
          KIOSK_PROPERTIES.COMMON_CONFIG.AppointmentSearch.Email.field_caption
        }}</mat-label>
        <input
          matInput
          [(ngModel)]="APONTMNT_EMAIL"
          (blur)="textDataBindEmail($event.target.value)"
          ng-virtual-keyboard
          ng-virtual-keyboard-layout="extended"
          pattern="[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}"
          ng-virtual-keyboard-placeholder="Email"
          #email
        />
      </mat-form-field>
      <mat-form-field
        appearance="outline"
        floatLabel="always"
        theme-border-input-big
        style="display: block"
        *ngIf="selectedType == 'appint_id'"
      >
        <mat-label>{{
          KIOSK_PROPERTIES.COMMON_CONFIG.AppointmentSearch.AppointmentID
            .field_caption
        }}</mat-label>
        <input
          matInput
          [(ngModel)]="APONTMNT_CODE"
          maxlength="10"
          (blur)="textDataBindTemp($event.target.value)"
          ng-virtual-keyboard
          ng-virtual-keyboard-layout="extended"
          ng-virtual-keyboard-placeholder="Appointment ID"
          #appint_id
          *ngIf="!qrScanAppointmentId"
        />
        <input
          matInput
          [(ngModel)]="APONTMNT_CODE"
          maxlength="10"
          #appint_id
          *ngIf="qrScanAppointmentId"
          (keydown.enter)="takeActFor('getAppointmentDetail')"
        />
        <!--  <input
          matInput
          [(ngModel)]="APONTMNT_CODE"
          maxlength="10"
          #appint_id
          *ngIf="qrScanAppointmentId"
          (input)="onInput(appint_id.value)"
        /> -->
      </mat-form-field>
    </div>
    <!-- <div horizontal-divider style="width:46%;display: inline-block;min-height: 45vh;
        vertical-align: top;" *ngIf="KIOSK_PROPERTIES.modules.only_visitor.checkin.in_prereg_option.type !== 'manual'">
      <p sub-title>{{KIOSK_PROPERTIES.modules.only_visitor.checkin.in_prereg_option.screen_label2}}</p>
      <button mat-raised-button my-theme-button (click)="takeActFor('scanNow')">Scan</button>
    </div> -->
    <div
      *ngIf="KIOSK_PROPERTIES.COMMON_CONFIG.AppointmentSearch.WebCamScan.enable"
    >
      <button mat-raised-button my-theme-button (click)="takeActFor('scanNow')">
        {{
          KIOSK_PROPERTIES.COMMON_CONFIG.AppointmentSearch.WebCamScan
            .button_caption
        }}
      </button>
    </div>
    <!-- <button mat-raised-button my-theme-button (click)="takeActFor('scanNow')">
      Scan
    </button> -->
  </div>
</div>
<div my-footer-toolbar>
  <button
    *ngIf="this.isBackButtonVisible"
    mat-icon-button
    my-theme-round-button
    (click)="takeActFor('back')"
    style="float: left"
  >
    <i class="siva-icon-left-big"></i>
  </button>
  <button
    mat-raised-button
    my-theme-button
    [disabled]="
      (selectedType == 'appint_id' && APONTMNT_CODE.toString().length < 1) ||
      (selectedType == 'contact' && APONTMNT_CONTACT.toString().length < 1) ||
      (selectedType == 'email' && APONTMNT_EMAIL.toString().length < 1)
    "
    style="float: right"
    (click)="takeActFor('getAppointmentDetail')"
  >
    {{
      KIOSK_PROPERTIES.COMMON_CONFIG.AppointmentSearch
        .get_appt_detail_button_caption
    }}
  </button>
</div>
